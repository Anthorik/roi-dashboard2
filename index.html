<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Mini Dashboard ROI</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; background: #111; color: #eee; }
    input, select, button { padding: 0.5rem; margin: 0.3rem; border-radius: 0.4rem; border: none; }
    input, select { width: 150px; }
    button { background: #4f46e5; color: white; font-weight: bold; cursor: pointer; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { padding: 0.6rem; border-bottom: 1px solid #333; text-align: center; }
    th { background: #222; }
    .pill { background: #16a34a22; color: #16a34a; padding: 0.2rem 0.6rem; border-radius: 1rem; font-weight: bold; }
  </style>
</head>
<body>
  <h1>üìä Suivi des locations simplifi√©</h1>
  <div>
    <input type="date" id="date" />
    <input type="number" id="jours" placeholder="Jours" min="1" />
    <select id="plateforme">
      <option value="Getaround">Getaround</option>
      <option value="Turo">Turo</option>
    </select>
    <input type="text" id="vehicule" placeholder="V√©hicule" />
    <input type="number" id="net" placeholder="Net ‚Ç¨" step="0.01" />
    <button onclick="ajouter()">Ajouter</button>
  </div>

  <table>
    <thead>
      <tr><th>Date</th><th>Jours</th><th>Plateforme</th><th>V√©hicule</th><th>Net touch√©</th><th>Actions</th></tr>
    </thead>
    <tbody id="tableau"></tbody>
  </table>

  <script>
    let data = JSON.parse(localStorage.getItem("locations_simple") || "[]");

    function enregistrer() {
      localStorage.setItem("locations_simple", JSON.stringify(data));
      afficher();
    }

    function ajouter() {
      const date = document.getElementById("date").value;
      const jours = document.getElementById("jours").value;
      const plateforme = document.getElementById("plateforme").value;
      const vehicule = document.getElementById("vehicule").value;
      const net = parseFloat(document.getElementById("net").value || 0);
      if (!date || !jours || !vehicule) return alert("Remplis tous les champs.");
      data.push({ date, jours, plateforme, vehicule, net });
      enregistrer();
    }

    function supprimer(i) {
      if (!confirm("Supprimer cette location ?")) return;
      data.splice(i, 1);
      enregistrer();
    }

    function afficher() {
      const tbody = document.getElementById("tableau");
      tbody.innerHTML = "";
      data.forEach((l, i) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${l.date}</td>
          <td>${l.jours}</td>
          <td>${l.plateforme}</td>
          <td>${l.vehicule}</td>
          <td><span class="pill">${l.net.toFixed(2)}‚Ç¨</span></td>
          <td><button onclick="supprimer(${i})">üóëÔ∏è</button></td>
        `;
        tbody.appendChild(tr);
      });
    }

    afficher();
  </script>
</body>
</html>
